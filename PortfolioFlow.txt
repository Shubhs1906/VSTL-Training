package com.flows;

import com.generic.Pojo;
import com.pageFactory.DashboardPageByShubhamM;
import com.pageFactory.PortfolioPageByShubhamM;
import com.popupFactory.OpenProductPopupPageByShubhamM;
import com.popupFactory.SelectFolderViewPopupPageByShubhamM;

public class PortfolioFlowByShubhamM {

	// Global Variable
	private Pojo objPojo;
	private String testData = "", testData_2 = "";

	// Reference object of Pages

	private DashboardPageByShubhamM objDashboardPageByShubhamM;
	private PortfolioPageByShubhamM objPortfolioPageByShubhamM;
	private SelectFolderViewPopupPageByShubhamM objSelectFolderViewPopupPageByShubhamM;
	private OpenProductPopupPageByShubhamM objOpenProductPopupPageByShubhamM;

	// Constructor of class
	public PortfolioFlowByShubhamM(Pojo pojo) {
		this.objPojo = pojo;

		objOpenProductPopupPageByShubhamM = new OpenProductPopupPageByShubhamM(objPojo);
		objDashboardPageByShubhamM = new DashboardPageByShubhamM(objPojo);
		objPortfolioPageByShubhamM = new PortfolioPageByShubhamM(objPojo);
		objSelectFolderViewPopupPageByShubhamM = new SelectFolderViewPopupPageByShubhamM(objPojo);

	}

	public void openProductInSOTViewWithVersion2020() {

		testData = objPojo.getObjUtilities().dpString("SelectMenuIcon");
		if (!testData.equals("")) {
			objDashboardPageByShubhamM.clickOnMenuIconFromLeftSideBarMenu(testData);
		}

		testData = objPojo.getObjUtilities().dpString("PageHeader");
		if (!testData.equals("")) {
			objDashboardPageByShubhamM.verifyPageHeaderIsDisplayed(testData);
		}

		testData = objPojo.getObjUtilities().dpString("FolderName2020");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnFolderOnPortfolioPage(testData);
		}

		testData = objPojo.getObjUtilities().dpString("FolderAction");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnFolderActionButtonOnPortfolioPage(testData);
		}

		objSelectFolderViewPopupPageByShubhamM.ClickOnSOTViewButton();

		testData = objPojo.getObjUtilities().dpString("ProductAction");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnProductActionButtonOnPortfolioPage(testData);
		}

		objOpenProductPopupPageByShubhamM.clickOnCheckBoxSelectOnOpenProductPopupPage();

		testData = objPojo.getObjUtilities().dpString("FolderVersion2020");
		if (!testData.equals("")) {
			objOpenProductPopupPageByShubhamM.selectDropdownFromFolderVersion(testData);
		}

		objOpenProductPopupPageByShubhamM.clickOnOpenButton();

	}

	public void openProductInSOTViewWithVersion2021() {

		testData = objPojo.getObjUtilities().dpString("SelectMenuIcon");
		if (!testData.equals("")) {
			objDashboardPageByShubhamM.clickOnMenuIconFromLeftSideBarMenu(testData);
		}

		testData = objPojo.getObjUtilities().dpString("PageHeader");
		if (!testData.equals("")) {
			objDashboardPageByShubhamM.verifyPageHeaderIsDisplayed(testData);
		}

		testData = objPojo.getObjUtilities().dpString("FolderName2021");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnFolderOnPortfolioPage(testData);
		}

		testData = objPojo.getObjUtilities().dpString("FolderAction");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnFolderActionButtonOnPortfolioPage(testData);
		}

		objSelectFolderViewPopupPageByShubhamM.ClickOnSOTViewButton();

		testData = objPojo.getObjUtilities().dpString("ProductAction");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnProductActionButtonOnPortfolioPage(testData);
		}

		objOpenProductPopupPageByShubhamM.clickOnCheckBoxSelectOnOpenProductPopupPage();

		testData = objPojo.getObjUtilities().dpString("FolderVersion2021");
		if (!testData.equals("")) {
			objOpenProductPopupPageByShubhamM.selectDropdownFromFolderVersion(testData);
		}

		objOpenProductPopupPageByShubhamM.clickOnOpenButton();

	}

	public void openProductInSOTViewWithVersion2022() {

		testData = objPojo.getObjUtilities().dpString("SelectMenuIcon");
		if (!testData.equals("")) {
			objDashboardPageByShubhamM.clickOnMenuIconFromLeftSideBarMenu(testData);
		}

		testData = objPojo.getObjUtilities().dpString("PageHeader");
		if (!testData.equals("")) {
			objDashboardPageByShubhamM.verifyPageHeaderIsDisplayed(testData);
		}

		testData = objPojo.getObjUtilities().dpString("FolderName2022");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnFolderOnPortfolioPage(testData);
		}

		testData = objPojo.getObjUtilities().dpString("FolderAction");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnFolderActionButtonOnPortfolioPage(testData);
		}

		objSelectFolderViewPopupPageByShubhamM.ClickOnSOTViewButton();

		testData = objPojo.getObjUtilities().dpString("ProductAction");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnProductActionButtonOnPortfolioPage(testData);
		}

		objOpenProductPopupPageByShubhamM.clickOnCheckBoxSelectOnOpenProductPopupPage();

		testData = objPojo.getObjUtilities().dpString("FolderVersion2022");
		if (!testData.equals("")) {
			objOpenProductPopupPageByShubhamM.selectDropdownFromFolderVersion(testData);
		}

		objOpenProductPopupPageByShubhamM.clickOnOpenButton();

	}

	public void editAndSavePlanInSOTView() {

		testData = objPojo.getObjUtilities().dpString("SelectMenuIcon");
		if (!testData.equals("")) {
			objDashboardPageByShubhamM.clickOnMenuIconFromLeftSideBarMenu(testData);
		}

		testData = objPojo.getObjUtilities().dpString("PageHeader");
		if (!testData.equals("")) {
			objDashboardPageByShubhamM.verifyPageHeaderIsDisplayed(testData);
		}

		testData = objPojo.getObjUtilities().dpString("FolderName2021");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnFolderOnPortfolioPage(testData);
		}

		testData = objPojo.getObjUtilities().dpString("FolderAction");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnFolderActionButtonOnPortfolioPage(testData);
		}

		objSelectFolderViewPopupPageByShubhamM.ClickOnSOTViewButton();

		testData = objPojo.getObjUtilities().dpString("ProductAction_Open");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnProductActionButtonOnPortfolioPage(testData);
		}

		objOpenProductPopupPageByShubhamM.clickOnCheckBoxSelectOnOpenProductPopupPage();

		objOpenProductPopupPageByShubhamM.clickOnOpenButton();

		
		testData = objPojo.getObjUtilities().dpString("FieldName");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.searchField(testData);
		}

		testData_2 = objPojo.getObjUtilities().dpString("SelectDrpDwn");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.editField(testData, testData_2);
		}

		testData = objPojo.getObjUtilities().dpString("ProductAction_Save");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.clickOnProductActionButtonOnPortfolioPage(testData);
		}

		objDashboardPageByShubhamM.verifyMessageFromMessageBox();

		objDashboardPageByShubhamM.clickOnCloseButtonFromMessageBox();

		testData = objPojo.getObjUtilities().dpString("FieldName");
		if (!testData.equals("")) {
			objPortfolioPageByShubhamM.verifyEditedFieldIsSaved(testData, testData_2);
		}

	}
}
